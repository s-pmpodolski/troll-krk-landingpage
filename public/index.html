<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" href="stylesheets/screen.css"/>
    <link rel="stylesheet" href="stylesheets/print.css"/>
    <link rel="stylesheet" href="stylesheets/ie.css"/>
    <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css"/>
    <script src="bower_components/jquery/dist/jquery.min.js"></script>
    <script>
        var image_width = 1024;
        var image_margin_left = 390;
        var image_iframe_width = 245;

        var image_height = 557;
        var image_margin_top = 53;
        var image_iframe_height= 435;

        var isMobile = false;

        function resize() {
            var width = $(window).width();
            var height = $(window).height();

            var img = $("#hand");
            img.height(height);

            var leftImg = (width-img.width())/2;
            var topImg = (height-img.height())/2;

            img.offset({ top: topImg, left: leftImg });

            var scale = height/image_height;

            var iframeWidth = scale*image_iframe_width;
            var iframeHeight = scale*image_iframe_height;

            var left = scale*image_margin_left + leftImg;
            var top = scale*image_margin_top + topImg;

            var iframe = $(".hand-container > iframe");

            iframe.width(iframeWidth);
            iframe.height(iframeHeight);

            iframe.offset({ top: top, left: left });
        }

        function resizeMobile() {
            var width = $(window).width();
            var height = $(window).height();

            var iframe = $("iframe");

            iframe.width(width);
            iframe.height(height);

            iframe.offset({ top: 0, left: 0});
        }

        function setUrl() {
            var hash = window.location.hash;
            var url = hash.substring(hash.indexOf('#')+1, hash.length)
            $('#iframe').attr('src', url);
        }

        function detectMobile() {
            if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {
                $('body').addClass('mobile');
                return true;
            }
            return false;
        }

        $(function() {
            if(!detectMobile()) {
                $( window ).resize(function() {
                    resize();
                });

                resize();
            } else {
                $( window ).resize(function() {
                    resizeMobile();
                });

                resizeMobile();
            }

            setUrl();
        });

    </script>
</head>
<body>
    <div class="main">
        <div class="left">
            <iframe frameborder="0"></iframe>
        </div>
        <div class="right">
            <div class="container">
                <div class="row">
                    <div class="col-md-12">
                        <h1>HIDDEN</h1>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <h1 class="underlined">
                            <span>
                                CITY
                            </span>
                        </h1>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <p>
                            Każde miasto ma historie,
                            która nie została opowiedziana.
                        </p>
                    </div>
                </div>
                <div class="row buttons">
                    <div class="col-md-12">
                        <button>
                            DOWNLOAD FOR ANDROID
                        </button>
                        <button>
                            DOWNLOAD FOR IOS
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
